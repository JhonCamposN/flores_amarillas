<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🌻 Ramo de Flores Amarillas 🌻</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600;700&family=Pacifico&display=swap" rel="stylesheet">
<style>
        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }

        html {
            height: 100vh;
            max-height: 100vh;
            overflow: hidden;
        }

        :root {
            --color-bg: linear-gradient(135deg, #ff9a56 0%, #ffad56 25%, #ffd56b 50%, #fff176 75%, #ffeb3b 100%);
            --line-color: linear-gradient(to left top, #82ff86 20%, #144425, #104e1c);
            --flower-center: radial-gradient(circle, #8B4513, #D2691E);
            --leaf-color: radial-gradient(circle, #82ff86, #104e1c);
            --petal-color: radial-gradient(circle, #FFD700, #FFFF00);
        }

        body {
            background-image: var(--color-bg);
            min-height: 100vh;
            height: 100vh;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            overflow: hidden;
            cursor: pointer;
            margin: 0;
            padding: 0;
            position: relative;
        }

        #text {
            position: absolute;
            left: 50%;
            top: calc(50% - 350px);
            transform: translate(-50%, -50%);
            color: #8B4513;
            font-family: 'Dancing Script', cursive;
            text-align: center;
            font-size: 3rem;
            font-weight: 700;
            text-shadow: 
                2px 2px 4px rgba(0,0,0,0.5),
                0 0 20px rgba(255, 215, 0, 0.6),
                0 0 40px rgba(255, 215, 0, 0.4);
            animation: textGlow 3s ease-in-out infinite;
            z-index: 80;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 20px 40px;
            border-radius: 25px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        @keyframes textGlow {
            0%, 100% {
                text-shadow: 
                    2px 2px 4px rgba(0,0,0,0.5),
                    0 0 20px rgba(255, 215, 0, 0.6),
                    0 0 40px rgba(255, 215, 0, 0.4);
                transform: translate(-50%, -50%) scale(1);
            }
            50% {
                text-shadow: 
                    2px 2px 4px rgba(0,0,0,0.5),
                    0 0 30px rgba(255, 215, 0, 0.9),
                    0 0 60px rgba(255, 215, 0, 0.6),
                    0 0 80px rgba(255, 165, 0, 0.4);
                transform: translate(-50%, -50%) scale(1.02);
            }
        }

        /* Responsive optimizado para móviles */
        
        /* Tablets y pantallas medianas */
        @media screen and (max-width: 1024px) {
            #text {
                font-size: 2.5rem;
                padding: 18px 35px;
                top: calc(50% - 300px);
            }
        }

        /* Móviles grandes y tablets pequeñas */
        @media screen and (max-width: 768px) {
            body {
                align-items: center;
                overflow: hidden;
                height: 100vh;
                min-height: 100vh;
                max-height: 100vh;
                position: fixed;
                width: 100vw;
                max-width: 100%;
            }
            
            .flowers-garden {
                height: 100vh;
                max-height: 100vh;
                width: 100vw;
                max-width: 100%;
                position: relative;
            }
            
            #text {
                font-size: 2rem;
                padding: 15px 25px;
                top: 15%;
                position: fixed;
                z-index: 100;
                max-width: 90vw;
                word-wrap: break-word;
                line-height: 1.2;
            }
        }

        /* Xiaomi Redmi Note 11 y similares (393x851px) */
        @media screen and (max-width: 430px) and (min-width: 360px) {
            body {
                padding: 0;
                overflow: hidden;
                height: 100vh;
                min-height: 100vh;
                max-height: 100vh;
                position: fixed;
                width: 100vw;
                max-width: 100%;
            }
            
            .flowers-garden {
                height: 100vh;
                max-height: 100vh;
                width: 100vw;
                max-width: 100%;
                position: relative;
                overflow: hidden;
            }
            
            #text {
                font-size: 1.6rem;
                padding: 12px 20px;
                top: 8%;
                max-width: 95vw;
                border-radius: 20px;
                backdrop-filter: blur(8px);
                position: fixed;
                z-index: 100;
            }
        }

        /* Móviles pequeños */
        @media screen and (max-width: 359px) {
            body {
                padding: 0;
                overflow: hidden;
                height: 100vh;
                min-height: 100vh;
                max-height: 100vh;
                position: fixed;
                width: 100vw;
                max-width: 100%;
            }
            
            .flowers-garden {
                height: 100vh;
                max-height: 100vh;
                width: 100vw;
                max-width: 100%;
                position: relative;
                overflow: hidden;
            }
            
            #text {
                font-size: 1.4rem;
                padding: 10px 15px;
                top: 5%;
                max-width: 98vw;
                border-radius: 15px;
                position: fixed;
                z-index: 100;
            }
        }

        /* Orientación horizontal en móviles */
        @media screen and (max-height: 600px) and (orientation: landscape) {
            body {
                padding: 0;
                overflow: hidden;
                height: 100vh;
                min-height: 100vh;
                max-height: 100vh;
                position: fixed;
                width: 100vw;
                max-width: 100%;
            }
            
            .flowers-garden {
                height: 100vh;
                max-height: 100vh;
                width: 100vw;
                max-width: 100%;
                position: relative;
                overflow: hidden;
            }
            
            #text {
                font-size: 1.3rem;
                padding: 8px 15px;
                top: 5px;
                position: fixed;
                z-index: 100;
                max-width: 90vw;
            }
        }


        /* Contenedor de flores */
        .flowers-garden {
            position: relative;
            width: 100vw;
            height: 100vh;
            max-width: 100%;
            max-height: 100%;
            overflow: hidden;
        }

        .flower_wrapper {
            position: absolute;
            bottom: 2vmin;
        }

        .flower_stem {
            width: 2vmin;
            height: 65vmin;
            background-image: var(--line-color);
            border-radius: 4vmin;
            animation-delay: 0.3s;
        }

        .flower_center {
            position: absolute;
            top: 0vmin;
            left: 50%;
            z-index: 5;
            transform: translateX(-50%) rotate(-10deg);
            width: 20vmin;
            height: 20vmin;
            border-radius: 50%;
            background: var(--flower-center);
            animation: open-flower-middle 2s 0.4s backwards;
        }

        .flower_petal {
            position: absolute;
            left: 50%;
            z-index: 3;
            bottom: 55vmin;
            transform: translateX(-50%);
            width: 7vmin;
            height: 20vmin;
            background: var(--petal-color);
            clip-path: ellipse(50% 50% at 50% 50%);
            transform-origin: center bottom;
            animation: open-flower 2s 1s backwards;
        }

        .flower_petal-1 {
            border-radius: 50% 50% 50% / 80% 80% 20% 20%;
            background: var(--petal-color);
            animation: open-flower 1.4s 1s backwards;
        }
        .flower_petal-2 { transform: translateX(-50%) rotate(-30deg); }
        .flower_petal-3 { transform: translateX(-50%) rotate(-60deg); }
        .flower_petal-4 { transform: translateX(-50%) rotate(-90deg); }
        .flower_petal-5 { transform: translateX(-50%) rotate(-120deg); }
        .flower_petal-6 { transform: translateX(-50%) rotate(-150deg); }
        .flower_petal-7 { transform: translateX(-50%) rotate(30deg); }
        .flower_petal-8 { transform: translateX(-50%) rotate(60deg); }
        .flower_petal-9 { transform: translateX(-50%) rotate(90deg); }
        .flower_petal-10 { transform: translateX(-50%) rotate(120deg); }
        .flower_petal-11 { transform: translateX(-50%) rotate(150deg); }
        .flower_petal-12 { transform: translateX(-50%) rotate(180deg); }

        .flower_leaf {
            position: absolute;
            left: 60%;
            bottom: 18vmin;
            transform: translateX(-45%) rotate(80deg);
            width: 7vmin;
            height: 17vmin;
            background: var(--leaf-color);
            border-radius: 10vmin 2vmin 10vmin 2vmin;
            transform-origin: center bottom;
        }

        .flower_leaf-1 {
            bottom: 18vmin;
            transform: translateX(-45%) rotate(80deg);
        }

        .flower_leaf-2 {
            bottom: 23vmin;
            transform: translateX(-55%) rotate(-80deg);
        }

        .flower_light {
            position: absolute;
            bottom: 70vmin;
            width: 1vmin;
            height: 1vmin;
            background-color: rgb(255, 251, 0);
            border-radius: 50%;
            filter: blur(0.2vmin);
            animation: light-ans 4s linear infinite backwards;
        }

        .flower_light-1 { left: -2vmin; animation-delay: 1s; }
        .flower_light-2 { left: 3vmin; animation-delay: 0.5s; }
        .flower_light-3 { left: -6vmin; animation-delay: 0.3s; }
        .flower_light-4 { left: 6vmin; animation-delay: 0.9s; }
        .flower_light-5 { left: -1vmin; animation-delay: 1.5s; }
        .flower_light-6 { left: -4vmin; animation-delay: 3s; }
        .flower_light-7 { left: 3vmin; animation-delay: 2s; }
        .flower_light-8 { left: -6vmin; animation-delay: 3.5s; }

        .light {
            position: absolute;
            bottom: 0vmin;
            width: 1vmin;
            height: 1vmin;
            background-color: rgb(255, 251, 0);
            border-radius: 50%;
            filter: blur(0.2vmin);
            animation: light-ans-background 7s linear infinite backwards;
        }

        .light-1 { left: 10vmin; animation-delay: 1s; }
        .light-2 { left: 20vmin; animation-delay: 0.5s; }
        .light-3 { left: 60vmin; animation-delay: 0.3s; }
        .light-4 { left: 80vmin; animation-delay: 0.9s; }
        .light-5 { left: 45vmin; animation-delay: 1.5s; }
        .light-6 { left: 10vmin; animation-delay: 3s; }
        .light-7 { left: 90vmax; animation-delay: 2s; }
        .light-8 { left: 60vmax; animation-delay: 3.5s; }
        .light-9 { left: 70vmax; animation-delay: 2s; }
        .light-10 { left: 95vmax; animation-delay: 3.5s; }
        .light-11 { left: 75vmax; animation-delay: 3s; }
        .light-12 { left: 85vmax; animation-delay: 0.5s; }
        .light-13 { left: 25vmin; animation-delay: 2.2s; }
        .light-14 { left: 35vmin; animation-delay: 1.8s; }
        .light-15 { left: 55vmin; animation-delay: 2.8s; }
        .light-16 { left: 75vmin; animation-delay: 1.2s; }
        .light-17 { left: 15vmax; animation-delay: 3.2s; }
        .light-18 { left: 40vmax; animation-delay: 2.5s; }
        .light-19 { left: 80vmax; animation-delay: 1.7s; }
        .light-20 { left: 50vmax; animation-delay: 3.8s; }

        /* Posiciones del ramo - todas desde el centro */
        .flower-1 { 
            left: 50%; 
            transform: translateX(-50%);
            z-index: 5;
        }
        .flower-2 { 
            left: 50%; 
            transform: translateX(-50%) rotate(-15deg);
            transform-origin: bottom center;
            animation-delay: 0.5s; 
            z-index: 4;
        }
        .flower-3 { 
            left: 50%; 
            transform: translateX(-50%) rotate(15deg);
            transform-origin: bottom center;
            animation-delay: 1s; 
            z-index: 4;
        }
        .flower-4 { 
            left: 50%; 
            transform: translateX(-50%) rotate(-30deg);
            transform-origin: bottom center;
            animation-delay: 1.5s; 
            z-index: 3;
        }
        .flower-5 { 
            left: 50%; 
            transform: translateX(-50%) rotate(30deg);
            transform-origin: bottom center;
            animation-delay: 2s; 
            z-index: 3;
        }

        /* Animaciones */
        @keyframes open-flower-leaves {
            0% {
                opacity: 0;
                transform: translateX(-50%) scale(0);
            }
        }

        @keyframes open-flower {
            0% {
                transform: translateX(-50%) rotate(0);
            }
        }

        @keyframes open-flower-middle {
            0% {
                opacity: 0;
                transform: translateX(-50%) scale(0);
            }
        }

        @keyframes moving-flower-1 {
            0%, 100% {
                transform: translateX(-50%) rotate(-2deg);
            }
            50% {
                transform: translateX(-50%) rotate(2deg);
            }
        }

        /* Animaciones específicas para cada flor del ramo */
        .flower-1 {
            animation: moving-flower-1 4s linear infinite;
        }
        
        .flower-2 {
            animation: moving-flower-2 4s linear infinite;
        }
        
        .flower-3 {
            animation: moving-flower-3 4s linear infinite;
        }
        
        .flower-4 {
            animation: moving-flower-4 4s linear infinite;
        }
        
        .flower-5 {
            animation: moving-flower-5 4s linear infinite;
        }

        @keyframes moving-flower-2 {
            0%, 100% {
                transform: translateX(-50%) rotate(-17deg);
            }
            50% {
                transform: translateX(-50%) rotate(-13deg);
            }
        }

        @keyframes moving-flower-3 {
            0%, 100% {
                transform: translateX(-50%) rotate(13deg);
            }
            50% {
                transform: translateX(-50%) rotate(17deg);
            }
        }

        @keyframes moving-flower-4 {
            0%, 100% {
                transform: translateX(-50%) rotate(-32deg);
            }
            50% {
                transform: translateX(-50%) rotate(-28deg);
            }
        }

        @keyframes moving-flower-5 {
            0%, 100% {
                transform: translateX(-50%) rotate(28deg);
            }
            50% {
                transform: translateX(-50%) rotate(32deg);
            }
        }

        @keyframes light-ans {
            0% {
                opacity: 0;
                transform: translateY(0vmin);
            }
            25% {
                opacity: 1;
                transform: translateY(-5vmin) translateX(-2vmin);
            }
            50% {
                opacity: 1;
                transform: translateY(-15vmin) translateX(2vmin);
                filter: blur(0.2vmin);
            }
            75% {
                transform: translateY(-20vmin) translateX(-2vmin);
                filter: blur(0.2vmin);
            }
            100% {
                transform: translateY(-30vmin);
                opacity: 0;
                filter: blur(1vmin);
            }
        }

        @keyframes light-ans-background {
            0% {
                opacity: 0;
                transform: translateY(0vmin);
            }
            25% {
                opacity: 1;
                transform: translateY(-10vmin) translateX(-2vmin);
            }
            50% {
                opacity: 1;
                transform: translateY(-20vmin) translateX(2vmin);
                filter: blur(0.2vmin);
            }
            60% {
                transform: translateY(-30vmin) translateX(-2vmin);
                filter: blur(0.2vmin);
            }
            70% {
                transform: translateY(-40vmin) translateX(2vmin);
                filter: blur(0.2vmin);
            }
            80% {
                transform: translateY(-50vmin) translateX(-2vmin);
                filter: blur(0.2vmin);
            }
            100% {
                transform: translateY(-60vmin);
                opacity: 0;
                filter: blur(1vmin);
            }
        }

        /* Flor SVG del lado izquierdo */
        .left-flower-container {
            position: fixed;
            left: 50px;
            top: 50%;
            transform: translateY(-50%);
            width: 300px;
            height: 360px;
            z-index: 60;
            animation: floatFlower 4s ease-in-out infinite;
        }

        .left-flower-svg {
            width: 100%;
            height: 100%;
            filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.2));
        }

        /* Efectos de hover para los pétalos */
        .petal {
            cursor: pointer;
            transition: fill 0.3s ease, transform 0.3s ease;
        }

        .petal:hover {
            fill: #b38a01ff;
            transform: scale(1.05);
        }

        .petal-group {
            cursor: pointer;
        }

        .petal-group:hover .petal {
            fill: #d19d03ff;
            transform: scale(1.05);
        }

        /* Animación para pétalos que se eliminan */
        .petal-group.removing {
            animation: petalFadeOut 0.8s ease-out forwards;
            pointer-events: none;
        }

        .petal-group.removed {
            opacity: 0;
            transform: scale(0);
            pointer-events: none;
        }

        @keyframes petalFadeOut {
            0% {
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }
            50% {
                opacity: 0.5;
                transform: scale(1.2) rotate(15deg);
            }
            100% {
                opacity: 0;
                transform: scale(0) rotate(30deg);
            }
        }

        /* Animación de flotación para la flor */
        @keyframes floatFlower {
            0%, 100% {
                transform: translateY(-50%) translateX(0px);
            }
            50% {
                transform: translateY(-50%) translateX(10px);
            }
        }

        /* Responsive para la flor izquierda */
        @media screen and (max-width: 1024px) {
            .left-flower-container {
                left: 30px;
                width: 250px;
                height: 300px;
            }
        }

        @media screen and (max-width: 768px) {
            .left-flower-container {
                left: 15px;
                width: 200px;
                height: 250px;
                bottom: 25%;
            }
        }

        /* Xiaomi Redmi Note 11 y similares */
        @media screen and (max-width: 430px) and (min-width: 360px) {
            .left-flower-container {
                left: 8px;
                width: 160px;
                height: 200px;
                bottom: 20%;
            }
        }

        @media screen and (max-width: 359px) {
            .left-flower-container {
                left: 5px;
                width: 140px;
                height: 175px;
                bottom: 18%;
            }
        }

        /* Orientación horizontal */
        @media screen and (max-height: 600px) and (orientation: landscape) {
            .left-flower-container {
                left: 10px;
                width: 120px;
                height: 150px;
                bottom: 10%;
            }
        }

        /* Flor SVG del lado derecho */
        .right-flower-container {
            position: fixed;
            right: 50px;
            top: 50%;
            transform: translateY(-50%);
            width: 300px;
            height: 360px;
            z-index: 60;
            animation: floatFlowerRight 4s ease-in-out infinite;
        }

        .right-flower-svg {
            width: 100%;
            height: 100%;
            filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.2));
        }

        /* Efectos de hover para los pétalos del lado derecho */
        .petal-group-right {
            cursor: pointer;
        }

        .petal-group-right:hover .petal {
            fill: #d19d03ff;
            transform: scale(1.05);
        }

        /* Animación para pétalos que se eliminan - lado derecho */
        .petal-group-right.removing {
            animation: petalFadeOut 0.8s ease-out forwards;
            pointer-events: none;
        }

        .petal-group-right.removed {
            opacity: 0;
            transform: scale(0);
            pointer-events: none;
        }

        /* Animación de flotación para la flor derecha */
        @keyframes floatFlowerRight {
            0%, 100% {
                transform: translateY(-50%) translateX(0px);
            }
            50% {
                transform: translateY(-50%) translateX(-10px);
            }
        }

        /* Responsive para la flor derecha */
        @media screen and (max-width: 1024px) {
            .right-flower-container {
                right: 30px;
                width: 250px;
                height: 300px;
            }
        }

        @media screen and (max-width: 768px) {
            .right-flower-container {
                right: 15px;
                width: 200px;
                height: 250px;
                bottom: 25%;
            }
        }

        /* Xiaomi Redmi Note 11 y similares */
        @media screen and (max-width: 430px) and (min-width: 360px) {
            .right-flower-container {
                right: 8px;
                width: 160px;
                height: 200px;
                bottom: 20%;
            }
        }

        @media screen and (max-width: 359px) {
            .right-flower-container {
                right: 5px;
                width: 140px;
                height: 175px;
                bottom: 18%;
            }
        }

        /* Orientación horizontal */
        @media screen and (max-height: 600px) and (orientation: landscape) {
            .right-flower-container {
                right: 10px;
                width: 120px;
                height: 150px;
                bottom: 10%;
            }
        }

        /* Texto instructivo debajo de las flores */
        .flower-instruction {
            position: absolute;
            bottom: -50px;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Dancing Script', cursive;
            font-size: 1.5rem;
            color: #8B4513;
            text-align: center;
            text-shadow: 
                2px 2px 4px rgba(0,0,0,0.3),
                0 0 15px rgba(255, 215, 0, 0.5);
            animation: instructionGlow 3s ease-in-out infinite;
            pointer-events: none;
            white-space: nowrap;
        }

        @keyframes instructionGlow {
            0%, 100% {
                opacity: 0.8;
                transform: translateX(-50%) scale(1);
                text-shadow: 
                    2px 2px 4px rgba(0,0,0,0.3),
                    0 0 15px rgba(255, 215, 0, 0.5);
            }
            50% {
                opacity: 1;
                transform: translateX(-50%) scale(1.05);
                text-shadow: 
                    2px 2px 4px rgba(0,0,0,0.3),
                    0 0 25px rgba(255, 215, 0, 0.8),
                    0 0 35px rgba(255, 165, 0, 0.4);
            }
        }

        /* Responsive para las instrucciones */
        @media screen and (max-width: 1024px) {
            .flower-instruction {
                font-size: 1.4rem;
                bottom: -45px;
            }
        }

        @media screen and (max-width: 768px) {
            .flower-instruction {
                font-size: 1.1rem;
                bottom: -35px;
                padding: 5px 10px;
                background: rgba(255, 255, 255, 0.8);
                border-radius: 15px;
                backdrop-filter: blur(5px);
            }
        }

        /* Xiaomi Redmi Note 11 y similares */
        @media screen and (max-width: 430px) and (min-width: 360px) {
            .flower-instruction {
                font-size: 0.9rem;
                bottom: -30px;
                padding: 4px 8px;
                border-radius: 12px;
                max-width: 90%;
                word-wrap: break-word;
                text-align: center;
            }
        }

        @media screen and (max-width: 359px) {
            .flower-instruction {
                font-size: 0.8rem;
                bottom: -25px;
                padding: 3px 6px;
                border-radius: 10px;
                max-width: 95%;
            }
        }

        /* Orientación horizontal */
        @media screen and (max-height: 600px) and (orientation: landscape) {
            .flower-instruction {
                font-size: 0.7rem;
                bottom: -20px;
                padding: 2px 5px;
            }
        }

        /* Controles de música */
        .music-controls {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .music-button {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 
                0 8px 20px rgba(255, 215, 0, 0.4),
                0 4px 10px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            position: relative;
        }

        .music-button:hover {
            transform: scale(1.1);
            box-shadow: 
                0 12px 30px rgba(255, 215, 0, 0.6),
                0 6px 15px rgba(0, 0, 0, 0.3);
        }

        .music-button:active {
            transform: scale(0.95);
        }

        .music-button svg {
            width: 24px;
            height: 24px;
            fill: #8B4513;
            transition: fill 0.3s ease;
        }

        .music-button.muted {
            background: linear-gradient(135deg, #999, #666);
        }

        .music-button.muted svg {
            fill: #fff;
        }

        /* Control de volumen */
        .volume-control {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 15px;
            border-radius: 15px;
            box-shadow: 
                0 8px 20px rgba(0, 0, 0, 0.2),
                0 0 20px rgba(255, 215, 0, 0.3);
            border: 2px solid rgba(255, 215, 0, 0.5);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            min-width: 120px;
        }

        .volume-label {
            font-family: 'Dancing Script', cursive;
            font-size: 1rem;
            color: #8B4513;
            font-weight: 600;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .volume-slider {
            width: 100px;
            height: 6px;
            background: rgba(139, 69, 19, 0.3);
            border-radius: 3px;
            outline: none;
            cursor: pointer;
            -webkit-appearance: none;
            appearance: none;
        }

        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            border-radius: 50%;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .volume-slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 4px 10px rgba(255, 215, 0, 0.5);
        }

        .volume-slider::-moz-range-thumb {
            width: 18px;
            height: 18px;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            border-radius: 50%;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .volume-slider::-moz-range-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 4px 10px rgba(255, 215, 0, 0.5);
        }

        .volume-percentage {
            font-family: 'Dancing Script', cursive;
            font-size: 0.9rem;
            color: #8B4513;
            font-weight: 600;
        }

        /* Responsive para controles de música */
        @media screen and (max-width: 1024px) {
            .music-controls {
                top: 18px;
                right: 18px;
            }
            
            .music-button {
                width: 55px;
                height: 55px;
            }
        }

        @media screen and (max-width: 768px) {
            .music-controls {
                top: 12px;
                right: 12px;
                transform: scale(0.9);
            }
            
            .music-button {
                width: 48px;
                height: 48px;
            }
            
            .volume-control {
                margin-top: 6px;
            }
            
            .volume-slider {
                width: 75px;
            }
            
            .volume-label,
            .volume-percentage {
                font-size: 0.75rem;
            }
        }

        @media screen and (max-width: 480px) {
            .music-controls {
                top: 10px;
                right: 10px;
            }
            
            .music-button {
                width: 45px;
                height: 45px;
            }
            
            .music-button svg {
                width: 18px;
                height: 18px;
            }
            
            .volume-control {
                padding: 10px;
                min-width: 90px;
            }
            
            .volume-slider {
                width: 70px;
            }
        }

        /* Loader para "Cargando última carta" */
        .love-loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1500;
            animation: loaderFadeIn 0.5s ease;
        }

        .love-loader.show {
            display: flex;
        }

        .loader-content {
            text-align: center;
            color: #FFD700;
            font-family: 'Dancing Script', cursive;
        }

        .loader-title {
            font-size: 2.5rem;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            animation: titlePulse 2s ease-in-out infinite;
        }

        .loader-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 215, 0, 0.3);
            border-top: 4px solid #FFD700;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        .loader-dots {
            font-size: 1.5rem;
            color: #FFD700;
            animation: dotsPulse 1.5s ease-in-out infinite;
        }

        @keyframes loaderFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes titlePulse {
            0%, 100% { 
                transform: scale(1);
                text-shadow: 2px 2px 4px rgba(0,0,0,0.5), 0 0 20px rgba(255, 215, 0, 0.5);
            }
            50% { 
                transform: scale(1.05);
                text-shadow: 2px 2px 4px rgba(0,0,0,0.5), 0 0 30px rgba(255, 215, 0, 0.8);
            }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes dotsPulse {
            0%, 100% { opacity: 0.4; }
            50% { opacity: 1; }
        }

        /* Responsive para el loader */
        @media screen and (max-width: 768px) {
            .loader-title {
                font-size: 2rem;
            }
            
            .loader-spinner {
                width: 50px;
                height: 50px;
            }
            
            .loader-dots {
                font-size: 1.2rem;
            }
        }

        /* Modal para mensajes de amor */
        .love-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: modalFadeIn 0.3s ease;
        }

        .love-modal.show {
            display: flex;
        }

        .love-modal-content {
            background: linear-gradient(135deg, #FFF9E6, #FFFACD);
            padding: 40px;
            border-radius: 25px;
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.3),
                0 0 30px rgba(255, 215, 0, 0.4);
            border: 3px solid #FFD700;
            max-width: 500px;
            width: 90%;
            text-align: center;
            position: relative;
            animation: modalSlideIn 0.4s ease;
        }

        .love-modal-close {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 24px;
            color: #EC4899;
            cursor: pointer;
            font-weight: bold;
            transition: color 0.3s ease;
        }

        .love-modal-close:hover {
            color: #BE185D;
            transform: scale(1.1);
        }

        .love-modal-title {
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            color: #8B4513;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .love-modal-message {
            font-family: 'Dancing Script', cursive;
            font-size: 1.8rem;
            color: #7F1D1D;
            line-height: 1.4;
            margin-bottom: 20px;
        }

        .love-modal-emoji {
            font-size: 3rem;
            margin: 10px 0;
            animation: heartBeat 1.5s ease-in-out infinite;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes modalSlideIn {
            from { 
                transform: scale(0.7) translateY(-50px);
                opacity: 0;
            }
            to { 
                transform: scale(1) translateY(0);
                opacity: 1;
            }
        }

        @keyframes heartBeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* Responsive para el modal */
        @media screen and (max-width: 1024px) {
            .love-modal-content {
                padding: 35px 25px;
                max-width: 85%;
            }
            
            .love-modal-title {
                font-size: 2rem;
            }
        }

        @media screen and (max-width: 768px) {
            .love-modal-content {
                padding: 25px 20px;
                max-width: 90%;
                margin: 8% auto;
                border-radius: 20px;
            }
            
            .love-modal-title {
                font-size: 1.6rem;
                line-height: 1.3;
            }
            
            .love-modal-message {
                font-size: 1rem;
                line-height: 1.5;
            }
        }

        /* Xiaomi Redmi Note 11 y similares */
        @media screen and (max-width: 430px) and (min-width: 360px) {
            .love-modal-content {
                padding: 20px 15px;
                max-width: 95%;
                margin: 5% auto;
                border-radius: 18px;
            }
            
            .love-modal-title {
                font-size: 1.4rem;
                line-height: 1.2;
                margin-bottom: 15px;
            }
            
            .love-modal-message {
                font-size: 0.95rem;
                line-height: 1.4;
                word-wrap: break-word;
            }
            
            .love-modal-close {
                font-size: 24px;
                top: 10px;
                right: 15px;
            }
        }

        @media screen and (max-width: 359px) {
            .love-modal-content {
                padding: 18px 12px;
                max-width: 98%;
                margin: 3% auto;
                border-radius: 15px;
            }
            
            .love-modal-title {
                font-size: 1.2rem;
                margin-bottom: 12px;
            }
            
            .love-modal-message {
                font-size: 0.85rem;
                line-height: 1.3;
            }
        }

        /* Orientación horizontal */
        @media screen and (max-height: 600px) and (orientation: landscape) {
            .love-modal-content {
                padding: 15px 20px;
                max-width: 80%;
                margin: 2% auto;
                max-height: 90vh;
                overflow-y: auto;
            }
            
            .love-modal-title {
                font-size: 1.1rem;
                margin-bottom: 8px;
            }
            
            .love-modal-message {
                font-size: 0.8rem;
                line-height: 1.2;
            }
        }

    </style>
</head>
<body>
    <audio id="musica1" loop autoplay preload="auto">
        <source src="Flores Amarillas2.mp3" type="audio/mpeg">
        <source src="Flores Amarillas2.ogv" type="audio/ogg">
    </audio>


    <!-- Jardín de flores -->
    <div class="flowers-garden">
        <!-- Flor 1 - Centro -->
        <div class="flower_wrapper flower-1">
            <div class="flower_stem"></div>
            <div class="flower_center"></div>
            <div class="flower_petal flower_petal-1"></div>
            <div class="flower_petal flower_petal-2"></div>
            <div class="flower_petal flower_petal-3"></div>
            <div class="flower_petal flower_petal-4"></div>
            <div class="flower_petal flower_petal-5"></div>
            <div class="flower_petal flower_petal-6"></div>
            <div class="flower_petal flower_petal-7"></div>
            <div class="flower_petal flower_petal-8"></div>
            <div class="flower_petal flower_petal-9"></div>
            <div class="flower_petal flower_petal-10"></div>
            <div class="flower_petal flower_petal-11"></div>
            <div class="flower_petal flower_petal-12"></div>
            <div class="flower_leaf flower_leaf-1"></div>
            <div class="flower_leaf flower_leaf-2"></div>
            <div class="flower_light flower_light-1"></div>
            <div class="flower_light flower_light-2"></div>
            <div class="flower_light flower_light-3"></div>
            <div class="flower_light flower_light-4"></div>
            <div class="flower_light flower_light-5"></div>
            <div class="flower_light flower_light-6"></div>
            <div class="flower_light flower_light-7"></div>
            <div class="flower_light flower_light-8"></div>
        </div>

        <!-- Flor 2 -->
        <div class="flower_wrapper flower-2">
            <div class="flower_stem"></div>
            <div class="flower_center"></div>
            <div class="flower_petal flower_petal-1"></div>
            <div class="flower_petal flower_petal-2"></div>
            <div class="flower_petal flower_petal-3"></div>
            <div class="flower_petal flower_petal-4"></div>
            <div class="flower_petal flower_petal-5"></div>
            <div class="flower_petal flower_petal-6"></div>
            <div class="flower_petal flower_petal-7"></div>
            <div class="flower_petal flower_petal-8"></div>
            <div class="flower_petal flower_petal-9"></div>
            <div class="flower_petal flower_petal-10"></div>
            <div class="flower_petal flower_petal-11"></div>
            <div class="flower_petal flower_petal-12"></div>
            <div class="flower_leaf flower_leaf-1"></div>
            <div class="flower_leaf flower_leaf-2"></div>
            <div class="flower_light flower_light-1"></div>
            <div class="flower_light flower_light-2"></div>
            <div class="flower_light flower_light-3"></div>
            <div class="flower_light flower_light-4"></div>
        </div>

        <!-- Flor 3 -->
        <div class="flower_wrapper flower-3">
            <div class="flower_stem"></div>
            <div class="flower_center"></div>
            <div class="flower_petal flower_petal-1"></div>
            <div class="flower_petal flower_petal-2"></div>
            <div class="flower_petal flower_petal-3"></div>
            <div class="flower_petal flower_petal-4"></div>
            <div class="flower_petal flower_petal-5"></div>
            <div class="flower_petal flower_petal-6"></div>
            <div class="flower_petal flower_petal-7"></div>
            <div class="flower_petal flower_petal-8"></div>
            <div class="flower_petal flower_petal-9"></div>
            <div class="flower_petal flower_petal-10"></div>
            <div class="flower_petal flower_petal-11"></div>
            <div class="flower_petal flower_petal-12"></div>
            <div class="flower_leaf flower_leaf-1"></div>
            <div class="flower_leaf flower_leaf-2"></div>
            <div class="flower_light flower_light-1"></div>
            <div class="flower_light flower_light-2"></div>
            <div class="flower_light flower_light-3"></div>
            <div class="flower_light flower_light-4"></div>
        </div>

        <!-- Flor 4 -->
        <div class="flower_wrapper flower-4">
            <div class="flower_stem"></div>
            <div class="flower_center"></div>
            <div class="flower_petal flower_petal-1"></div>
            <div class="flower_petal flower_petal-2"></div>
            <div class="flower_petal flower_petal-3"></div>
            <div class="flower_petal flower_petal-4"></div>
            <div class="flower_petal flower_petal-5"></div>
            <div class="flower_petal flower_petal-6"></div>
            <div class="flower_petal flower_petal-7"></div>
            <div class="flower_petal flower_petal-8"></div>
            <div class="flower_petal flower_petal-9"></div>
            <div class="flower_petal flower_petal-10"></div>
            <div class="flower_leaf flower_leaf-1"></div>
            <div class="flower_leaf flower_leaf-2"></div>
            <div class="flower_light flower_light-1"></div>
            <div class="flower_light flower_light-2"></div>
        </div>

        <!-- Flor 5 -->
        <div class="flower_wrapper flower-5">
            <div class="flower_stem"></div>
            <div class="flower_center"></div>
            <div class="flower_petal flower_petal-1"></div>
            <div class="flower_petal flower_petal-2"></div>
            <div class="flower_petal flower_petal-3"></div>
            <div class="flower_petal flower_petal-4"></div>
            <div class="flower_petal flower_petal-5"></div>
            <div class="flower_petal flower_petal-6"></div>
            <div class="flower_petal flower_petal-7"></div>
            <div class="flower_petal flower_petal-8"></div>
            <div class="flower_petal flower_petal-9"></div>
            <div class="flower_petal flower_petal-10"></div>
            <div class="flower_petal flower_petal-11"></div>
            <div class="flower_petal flower_petal-12"></div>
            <div class="flower_leaf flower_leaf-1"></div>
            <div class="flower_leaf flower_leaf-2"></div>
            <div class="flower_light flower_light-1"></div>
            <div class="flower_light flower_light-2"></div>
            <div class="flower_light flower_light-3"></div>
        </div>

    </div>

    <!-- Luces de fondo -->
    <div class="light light-1"></div>
    <div class="light light-2"></div>
    <div class="light light-3"></div>
    <div class="light light-4"></div>
    <div class="light light-5"></div>
    <div class="light light-6"></div>
    <div class="light light-7"></div>
    <div class="light light-8"></div>
    <div class="light light-9"></div>
    <div class="light light-10"></div>
    <div class="light light-11"></div>
    <div class="light light-12"></div>
    <div class="light light-13"></div>
    <div class="light light-14"></div>
    <div class="light light-15"></div>
    <div class="light light-16"></div>
    <div class="light light-17"></div>
    <div class="light light-18"></div>
    <div class="light light-19"></div>
    <div class="light light-20"></div>


    <!-- Flor SVG del lado izquierdo -->
    <div class="left-flower-container">
        <svg class="left-flower-svg" viewBox="0 0 244 280" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <defs>
                <path d="M130.987847,122 C133.659505,157.293805 135.315501,187.391727 135.955835,212.293767 C136.596169,237.195806 130.273506,263.431217 116.987847,291" id="path-stem"></path>
                <filter x="-63.1%" y="-5.9%" width="226.2%" height="114.2%" filterUnits="objectBoundingBox" id="filter-stem">
                    <feMorphology radius="5" operator="dilate" in="SourceAlpha" result="shadowSpreadOuter1"></feMorphology>
                    <feOffset dx="0" dy="2" in="shadowSpreadOuter1" result="shadowOffsetOuter1"></feOffset>
                    <feMorphology radius="5" operator="erode" in="SourceAlpha" result="shadowInner"></feMorphology>
                    <feOffset dx="0" dy="2" in="shadowInner" result="shadowInner"></feOffset>
                    <feComposite in="shadowOffsetOuter1" in2="shadowInner" operator="out" result="shadowOffsetOuter1"></feComposite>
                    <feGaussianBlur stdDeviation="2" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>
                    <feColorMatrix values="0 0 0 0 0.2 0 0 0 0 0.5 0 0 0 0 0.2 0 0 0 0.5 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix>
                </filter>
                <path d="M223.120444,246.724259 C216.601694,240.205509 198.89935,211.936759 205.4181,205.418009 C211.93685,198.899259 240.2056,216.603165 246.72435,223.120353 C253.2431,229.639103 253.2431,240.205509 246.72435,246.724259 C240.2056,253.241446 229.638412,253.241446 223.120444,246.724259 Z" id="path-petal"></path>
                <filter x="-18.9%" y="-18.9%" width="137.8%" height="137.8%" filterUnits="objectBoundingBox" id="filter-petal">
                    <feOffset dx="0" dy="0" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>
                    <feGaussianBlur stdDeviation="3" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>
                    <feColorMatrix values="0 0 0 0 0.9 0 0 0 0 0.7 0 0 0 0 0.2 0 0 0 0.5 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix>
                </filter>
                <circle id="path-sm-circle" cx="27" cy="27" r="27"></circle>
                <filter x="-16.7%" y="-16.7%" width="133.3%" height="133.3%" filterUnits="objectBoundingBox" id="filter-sm-circle">
                    <feOffset dx="0" dy="0" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>
                    <feGaussianBlur stdDeviation="3" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>
                    <feColorMatrix values="0 0 0 0 0.9 0 0 0 0 0.7 0 0 0 0 0.2 0 0 0 0.5 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix>
                </filter>
                <circle id="path-lg-circle" cx="27" cy="27" r="18"></circle>
                <filter x="-25.0%" y="-25.0%" width="150.0%" height="150.0%" filterUnits="objectBoundingBox" id="filter-lg-circle">
                    <feOffset dx="0" dy="0" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>
                    <feGaussianBlur stdDeviation="3" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>
                    <feColorMatrix values="0 0 0 0 0.9 0 0 0 0 0.7 0 0 0 0 0.2 0 0 0 0.5 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix>
                </filter>
                <path d="M0,0 C15,15 35,40 45,65 C50,90 45,120 25,135 C10,145 -10,140 -20,115 C-28,90 -20,55 -10,30 C-5,15 -2,5 0,0 Z" id="path-leaf"></path>
                <filter x="-50%" y="-50%" width="200%" height="200%" filterUnits="objectBoundingBox" id="filter-leaf">
                    <feOffset dx="0" dy="2" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>
                    <feGaussianBlur stdDeviation="2" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>
                    <feColorMatrix values="0 0 0 0 0.2 0 0 0 0 0.5 0 0 0 0 0.2 0 0 0 0.5 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix>
                </filter>
            </defs>
            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <g id="Artboard" transform="translate(-78.000000, -78.000000)">
                    <g id="Background" transform="translate(78.000000, 78.000000)">
                        <g id="Path-stem" stroke-linecap="round" transform="translate(126.493923, 184.500000) scale(-1, 1) translate(-126.493923, -206.500000)">
                            <use fill="black" fill-opacity="1" filter="url(#filter-stem)" xlink:href="#path-stem"></use>
                            <g id="Leaf" transform="translate(175, 200) rotate(45) scale(0.4)">
                                <use fill="black" fill-opacity="1" filter="url(#filter-leaf)" xlink:href="#path-leaf"></use>
                                <use fill="green" stroke="darkgreen" xlink:href="#path-leaf"></use>
                            </g>
                            <use stroke="#2E7D32" stroke-width="10" xlink:href="#path-stem"></use>
                        </g>
                    </g>
                    <g id="Petal" transform="translate(0,-30)" fill="#FFD700" fill-rule="nonzero">
                        <g id="petal-0" transform="rotate(0 200 200)" class="petal-group" onclick="openLoveModal(0)">
                            <use fill="black" fill-opacity="1" filter="url(#filter-petal)" xlink:href="#path-petal"></use>
                            <use fill="#FFD700" xlink:href="#path-petal" class="petal"></use>
                        </g>
                        <g id="petal-1" transform="rotate(90 200 200)" class="petal-group" onclick="openLoveModal(1)">
                            <use fill="black" fill-opacity="1" filter="url(#filter-petal)" xlink:href="#path-petal"></use>
                            <use fill="#FFD700" xlink:href="#path-petal" class="petal"></use>
                        </g>
                        <g id="petal-2" transform="rotate(180 200 200)" class="petal-group" onclick="openLoveModal(2)">
                            <use fill="black" fill-opacity="1" filter="url(#filter-petal)" xlink:href="#path-petal"></use>
                            <use fill="#FFD700" xlink:href="#path-petal" class="petal"></use>
                        </g>
                        <g id="petal-3" transform="rotate(270 200 200)" class="petal-group" onclick="openLoveModal(3)">
                            <use fill="black" fill-opacity="1" filter="url(#filter-petal)" xlink:href="#path-petal"></use>
                            <use fill="#FFD700" xlink:href="#path-petal" class="petal"></use>
                        </g>
                        <g id="petal-4" transform="rotate(405 200 200)" class="petal-group" onclick="openLoveModal(4)">
                            <use fill="black" fill-opacity="1" filter="url(#filter-petal)" xlink:href="#path-petal"></use>
                            <use fill="#FFD700" xlink:href="#path-petal" class="petal"></use>
                        </g>
                        <g id="petal-5" transform="rotate(495 200 200)" class="petal-group" onclick="openLoveModal(5)">
                            <use fill="black" fill-opacity="1" filter="url(#filter-petal)" xlink:href="#path-petal"></use>
                            <use fill="#FFD700" xlink:href="#path-petal" class="petal"></use>
                        </g>
                        <g id="petal-6" transform="rotate(585 200 200)" class="petal-group" onclick="openLoveModal(6)">
                            <use fill="black" fill-opacity="1" filter="url(#filter-petal)" xlink:href="#path-petal"></use>
                            <use fill="#FFD700" xlink:href="#path-petal" class="petal"></use>
                        </g>
                        <g id="petal-7" transform="rotate(675 200 200)" class="petal-group" onclick="openLoveModal(7)">
                            <use fill="black" fill-opacity="1" filter="url(#filter-petal)" xlink:href="#path-petal"></use>
                            <use fill="#FFD700" xlink:href="#path-petal" class="petal"></use>
                        </g>
                    </g>
                    <g id="Center" transform="translate(173.000000, 143.000000)">
                        <g id="Oval">
                            <use fill="black" fill-opacity="1" filter="url(#filter-sm-circle)" xlink:href="#path-sm-circle"></use>
                            <use fill="#8B4513" fill-rule="evenodd" xlink:href="#path-sm-circle"></use>
                        </g>
                        <g id="Oval">
                            <use fill="black" fill-opacity="1" filter="url(#filter-lg-circle)" xlink:href="#path-lg-circle"></use>
                            <use fill="#513227" fill-rule="evenodd" xlink:href="#path-lg-circle"></use>
                        </g>
                    </g>
                </g>
            </g>
        </svg>
        <div class="flower-instruction">Deshoja la flor por completo mi amor ♥</div>
    </div>

    <!-- Flor SVG del lado derecho -->
    <div class="right-flower-container">
        <svg class="right-flower-svg" viewBox="0 0 244 280" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <defs>
                <path d="M130.987847,122 C133.659505,157.293805 135.315501,187.391727 135.955835,212.293767 C136.596169,237.195806 130.273506,263.431217 116.987847,291" id="path-stem-right"></path>
                <filter x="-63.1%" y="-5.9%" width="226.2%" height="114.2%" filterUnits="objectBoundingBox" id="filter-stem-right">
                    <feMorphology radius="5" operator="dilate" in="SourceAlpha" result="shadowSpreadOuter1"></feMorphology>
                    <feOffset dx="0" dy="2" in="shadowSpreadOuter1" result="shadowOffsetOuter1"></feOffset>
                    <feMorphology radius="5" operator="erode" in="SourceAlpha" result="shadowInner"></feMorphology>
                    <feOffset dx="0" dy="2" in="shadowInner" result="shadowInner"></feOffset>
                    <feComposite in="shadowOffsetOuter1" in2="shadowInner" operator="out" result="shadowOffsetOuter1"></feComposite>
                    <feGaussianBlur stdDeviation="2" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>
                    <feColorMatrix values="0 0 0 0 0.2 0 0 0 0 0.5 0 0 0 0 0.2 0 0 0 0.5 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix>
                </filter>
                <path d="M223.120444,246.724259 C216.601694,240.205509 198.89935,211.936759 205.4181,205.418009 C211.93685,198.899259 240.2056,216.603165 246.72435,223.120353 C253.2431,229.639103 253.2431,240.205509 246.72435,246.724259 C240.2056,253.241446 229.638412,253.241446 223.120444,246.724259 Z" id="path-petal-right"></path>
                <filter x="-18.9%" y="-18.9%" width="137.8%" height="137.8%" filterUnits="objectBoundingBox" id="filter-petal-right">
                    <feOffset dx="0" dy="0" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>
                    <feGaussianBlur stdDeviation="3" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>
                    <feColorMatrix values="0 0 0 0 0.9 0 0 0 0 0.7 0 0 0 0 0.2 0 0 0 0.5 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix>
                </filter>
                <circle id="path-sm-circle-right" cx="27" cy="27" r="27"></circle>
                <filter x="-16.7%" y="-16.7%" width="133.3%" height="133.3%" filterUnits="objectBoundingBox" id="filter-sm-circle-right">
                    <feOffset dx="0" dy="0" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>
                    <feGaussianBlur stdDeviation="3" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>
                    <feColorMatrix values="0 0 0 0 0.9 0 0 0 0 0.7 0 0 0 0 0.2 0 0 0 0.5 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix>
                </filter>
                <circle id="path-lg-circle-right" cx="27" cy="27" r="18"></circle>
                <filter x="-25.0%" y="-25.0%" width="150.0%" height="150.0%" filterUnits="objectBoundingBox" id="filter-lg-circle-right">
                    <feOffset dx="0" dy="0" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>
                    <feGaussianBlur stdDeviation="3" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>
                    <feColorMatrix values="0 0 0 0 0.9 0 0 0 0 0.7 0 0 0 0 0.2 0 0 0 0.5 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix>
                </filter>
                <path d="M0,0 C15,15 35,40 45,65 C50,90 45,120 25,135 C10,145 -10,140 -20,115 C-28,90 -20,55 -10,30 C-5,15 -2,5 0,0 Z" id="path-leaf-right"></path>
                <filter x="-50%" y="-50%" width="200%" height="200%" filterUnits="objectBoundingBox" id="filter-leaf-right">
                    <feOffset dx="0" dy="2" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>
                    <feGaussianBlur stdDeviation="2" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>
                    <feColorMatrix values="0 0 0 0 0.2 0 0 0 0 0.5 0 0 0 0 0.2 0 0 0 0.5 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix>
                </filter>
            </defs>
            <g id="Page-1-right" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <g id="Artboard-right" transform="translate(-78.000000, -78.000000)">
                    <g id="Background-right" transform="translate(78.000000, 78.000000)">
                        <g id="Path-stem-right" stroke-linecap="round" transform="translate(126.493923, 184.500000) scale(-1, 1) translate(-126.493923, -206.500000)">
                            <use fill="black" fill-opacity="1" filter="url(#filter-stem-right)" xlink:href="#path-stem-right"></use>
                            <g id="Leaf-right" transform="translate(175, 200) rotate(45) scale(0.4)">
                                <use fill="black" fill-opacity="1" filter="url(#filter-leaf-right)" xlink:href="#path-leaf-right"></use>
                                <use fill="green" stroke="darkgreen" xlink:href="#path-leaf-right"></use>
                            </g>
                            <use stroke="#2E7D32" stroke-width="10" xlink:href="#path-stem-right"></use>
                        </g>
                    </g>
                    <g id="Petal-right" transform="translate(0,-30)" fill="#FFD700" fill-rule="nonzero">
                        <g id="petal-right-0" transform="rotate(0 200 200)" class="petal-group-right" onclick="openLoveModalRight(0)">
                            <use fill="black" fill-opacity="1" filter="url(#filter-petal-right)" xlink:href="#path-petal-right"></use>
                            <use fill="#FFD700" xlink:href="#path-petal-right" class="petal"></use>
                        </g>
                        <g id="petal-right-1" transform="rotate(90 200 200)" class="petal-group-right" onclick="openLoveModalRight(1)">
                            <use fill="black" fill-opacity="1" filter="url(#filter-petal-right)" xlink:href="#path-petal-right"></use>
                            <use fill="#FFD700" xlink:href="#path-petal-right" class="petal"></use>
                        </g>
                        <g id="petal-right-2" transform="rotate(180 200 200)" class="petal-group-right" onclick="openLoveModalRight(2)">
                            <use fill="black" fill-opacity="1" filter="url(#filter-petal-right)" xlink:href="#path-petal-right"></use>
                            <use fill="#FFD700" xlink:href="#path-petal-right" class="petal"></use>
                        </g>
                        <g id="petal-right-3" transform="rotate(270 200 200)" class="petal-group-right" onclick="openLoveModalRight(3)">
                            <use fill="black" fill-opacity="1" filter="url(#filter-petal-right)" xlink:href="#path-petal-right"></use>
                            <use fill="#FFD700" xlink:href="#path-petal-right" class="petal"></use>
                        </g>
                        <g id="petal-right-4" transform="rotate(405 200 200)" class="petal-group-right" onclick="openLoveModalRight(4)">
                            <use fill="black" fill-opacity="1" filter="url(#filter-petal-right)" xlink:href="#path-petal-right"></use>
                            <use fill="#FFD700" xlink:href="#path-petal-right" class="petal"></use>
                        </g>
                        <g id="petal-right-5" transform="rotate(495 200 200)" class="petal-group-right" onclick="openLoveModalRight(5)">
                            <use fill="black" fill-opacity="1" filter="url(#filter-petal-right)" xlink:href="#path-petal-right"></use>
                            <use fill="#FFD700" xlink:href="#path-petal-right" class="petal"></use>
                        </g>
                        <g id="petal-right-6" transform="rotate(585 200 200)" class="petal-group-right" onclick="openLoveModalRight(6)">
                            <use fill="black" fill-opacity="1" filter="url(#filter-petal-right)" xlink:href="#path-petal-right"></use>
                            <use fill="#FFD700" xlink:href="#path-petal-right" class="petal"></use>
                        </g>
                        <g id="petal-right-7" transform="rotate(675 200 200)" class="petal-group-right" onclick="openLoveModalRight(7)">
                            <use fill="black" fill-opacity="1" filter="url(#filter-petal-right)" xlink:href="#path-petal-right"></use>
                            <use fill="#FFD700" xlink:href="#path-petal-right" class="petal"></use>
                        </g>
                    </g>
                    <g id="Center-right" transform="translate(173.000000, 143.000000)">
                        <g id="Oval-right">
                            <use fill="black" fill-opacity="1" filter="url(#filter-sm-circle-right)" xlink:href="#path-sm-circle-right"></use>
                            <use fill="#8B4513" fill-rule="evenodd" xlink:href="#path-sm-circle-right"></use>
                        </g>
                        <g id="Oval-right">
                            <use fill="black" fill-opacity="1" filter="url(#filter-lg-circle-right)" xlink:href="#path-lg-circle-right"></use>
                            <use fill="#513227" fill-rule="evenodd" xlink:href="#path-lg-circle-right"></use>
                        </g>
                    </g>
                </g>
            </g>
        </svg>
        <div class="flower-instruction">Deshoja la flor por completo mi amor ♥</div>
    </div>

    <p id="text">💛 ¡Te Amo Mi Princesita! 💛</p>

    <!-- Controles de música -->
    <div class="music-controls">
        <button id="musicToggle" class="music-button" onclick="toggleMusic()">
            <svg id="playIcon" viewBox="0 0 24 24" style="display: none;">
                <path d="M8 5v14l11-7z"></path>
            </svg>
            <svg id="pauseIcon" viewBox="0 0 24 24" style="display: block;">
                <path d="M6 19h4V5H6zm8-14v14h4V5z"></path>
            </svg>
        </button>
        
        <div class="volume-control">
            <div class="volume-label">🔊 Volumen</div>
            <input type="range" id="volumeSlider" class="volume-slider" min="0" max="1" step="0.01" value="1">
            <div id="volumePercentage" class="volume-percentage">100%</div>
        </div>
    </div>

    <!-- Modal de mensajes de amor -->
    <div id="loveModal" class="love-modal">
        <div class="love-modal-content">
            <span class="love-modal-close" onclick="closeLoveModal()">&times;</span>
            <div class="love-modal-emoji">💛</div>
            <h2 class="love-modal-title">Mensaje de Amor</h2>
            <p id="loveMessage" class="love-modal-message"></p>
        </div>
    </div>

    <!-- Loader para "Cargando última carta" -->
    <div id="loveLoader" class="love-loader">
        <div class="loader-content">
            <h2 class="loader-title">💌 Cargando última carta 💌</h2>
            <div class="loader-spinner"></div>
            <div class="loader-dots">• • •</div>
        </div>
    </div>

</body>
<script>
    // Variables globales
    let audio = document.getElementById("musica1");
    let musicStarted = false;
    let isMuted = false;
    let previousVolume = 1;

    // Función principal para iniciar la música
    function startMusic() {
        if (musicStarted) return;
        
        console.log("🎵 Intentando iniciar música...");
        console.log("📁 Archivo de audio:", audio.src || "No definido");
        console.log("📊 Estado del audio:", {
            paused: audio.paused,
            muted: audio.muted,
            volume: audio.volume,
            readyState: audio.readyState,
            networkState: audio.networkState
        });
        
        // Verificar si el archivo se puede cargar
        if (audio.readyState === 0) {
            console.log("⏳ Esperando que el audio se cargue...");
            audio.load();
        }
        
        // Configurar audio
        audio.volume = 1; // Volumen normal desde el inicio
        audio.loop = true;
        audio.muted = false;
        
        // Intentar reproducir
        const playPromise = audio.play();
        
        if (playPromise !== undefined) {
            playPromise.then(() => {
                console.log("✅ Música iniciada exitosamente!");
                musicStarted = true;
            }).catch(error => {
                console.log("❌ Error al reproducir:", error.name, error.message);
                
                // Verificar si es un problema de carga del archivo
                if (error.name === 'NotSupportedError' || error.name === 'NotAllowedError') {
                    console.log("🚫 Problema de permisos o formato de archivo");
                    return;
                }
                
                // Si falla, intentar con audio muteado como último recurso
                console.log("🔄 Intentando con audio muteado...");
                audio.muted = true;
                audio.volume = 0;
                audio.play().then(() => {
                    console.log("🔇 Música iniciada muteada temporalmente...");
                    musicStarted = true;
                    
                    // Desmutear después de 1 segundo y hacer fade-in
                    setTimeout(() => {
                        if (!audio.paused) {
                            audio.muted = false;
                            audio.volume = 1; // Volumen normal
                            console.log("🔊 Audio desmuteado automáticamente");
                        }
                    }, 1000);
                }).catch(e => {
                    console.log("❌ Error total:", e.name, e.message);
                });
            });
        }
    }


    // Función para asegurar que la música esté sonando
    function ensureMusicPlaying() {
        if (!musicStarted || audio.paused) {
            startMusic();
        }
    }

    // Iniciar música inmediatamente cuando se carga el script
    startMusic();

    // Intentar de nuevo cuando el DOM esté listo
    document.addEventListener('DOMContentLoaded', function() {
        console.log("DOM cargado, intentando música...");
        setTimeout(startMusic, 100);
        setTimeout(startMusic, 500);
        setTimeout(startMusic, 1000);
    });

    // Intentar cuando la ventana esté completamente cargada
    window.addEventListener('load', function() {
        console.log("Ventana cargada, intentando música...");
        setTimeout(startMusic, 100);
        setTimeout(startMusic, 500);
    });

    // Eventos de interacción del usuario (solo una vez cada uno)
    document.addEventListener('click', ensureMusicPlaying, { once: true });
    document.addEventListener('touchstart', ensureMusicPlaying, { once: true });
    document.addEventListener('keydown', ensureMusicPlaying, { once: true });
    document.addEventListener('mousemove', ensureMusicPlaying, { once: true });

    // Event listeners para el audio
    audio.addEventListener('loadeddata', function() {
        console.log("✅ Audio cargado, intentando reproducir...");
        startMusic();
    });

    audio.addEventListener('canplay', function() {
        console.log("✅ Audio listo para reproducir...");
        startMusic();
    });

    audio.addEventListener('error', function(e) {
        console.log("❌ Error al cargar el archivo de audio:", e);
        console.log("❌ Detalles del error:", {
            code: audio.error?.code,
            message: audio.error?.message,
            src: audio.src
        });
    });

    audio.addEventListener('loadstart', function() {
        console.log("⏳ Iniciando carga del archivo de audio...");
    });

    audio.addEventListener('progress', function() {
        console.log("📊 Progreso de carga del audio...");
    });
    
    // Event listener para cerrar la página
    window.addEventListener('beforeunload', function() {
        // Limpiar recursos si es necesario
    });

    // Funciones para controles de música
    function toggleMusic() {
        const playIcon = document.getElementById('playIcon');
        const pauseIcon = document.getElementById('pauseIcon');
        const musicButton = document.getElementById('musicToggle');
        
        if (audio.paused) {
            // Reproducir música
            audio.play().then(() => {
                playIcon.style.display = 'none';
                pauseIcon.style.display = 'block';
                musicButton.classList.remove('muted');
                isMuted = false;
                console.log("🎵 Música reanudada");
            }).catch(error => {
                console.log("❌ Error al reproducir música:", error);
            });
        } else {
            // Pausar música
            audio.pause();
            playIcon.style.display = 'block';
            pauseIcon.style.display = 'none';
            musicButton.classList.add('muted');
            console.log("⏸️ Música pausada");
        }
    }

    function updateVolume() {
        const volumeSlider = document.getElementById('volumeSlider');
        const volumePercentage = document.getElementById('volumePercentage');
        const newVolume = parseFloat(volumeSlider.value);
        
        audio.volume = newVolume;
        volumePercentage.textContent = Math.round(newVolume * 100) + '%';
        
        // Actualizar el estado de silenciado
        if (newVolume === 0) {
            isMuted = true;
            document.getElementById('musicToggle').classList.add('muted');
        } else {
            isMuted = false;
            document.getElementById('musicToggle').classList.remove('muted');
            previousVolume = newVolume;
        }
        
        console.log("🔊 Volumen ajustado a:", Math.round(newVolume * 100) + '%');
    }

    // Event listeners para controles de música
    document.getElementById('volumeSlider').addEventListener('input', updateVolume);
    
    // Inicializar controles de música
    function initMusicControls() {
        const volumeSlider = document.getElementById('volumeSlider');
        const volumePercentage = document.getElementById('volumePercentage');
        
        // Establecer volumen inicial
        volumeSlider.value = audio.volume;
        volumePercentage.textContent = Math.round(audio.volume * 100) + '%';
        
        // Actualizar estado del botón según el estado del audio
        updateMusicButtonState();
    }

    function updateMusicButtonState() {
        const playIcon = document.getElementById('playIcon');
        const pauseIcon = document.getElementById('pauseIcon');
        const musicButton = document.getElementById('musicToggle');
        
        if (audio.paused) {
            playIcon.style.display = 'block';
            pauseIcon.style.display = 'none';
            musicButton.classList.add('muted');
        } else {
            playIcon.style.display = 'none';
            pauseIcon.style.display = 'block';
            musicButton.classList.remove('muted');
        }
    }

    // Inicializar controles cuando se carga la página
    document.addEventListener('DOMContentLoaded', function() {
        initMusicControls();
    });

    // Mensajes de amor para cada pétalo
    const loveMessages = [
        "Eres la luz que ilumina mis días más oscuros, mi amor eterno 💛",
        "Cada latido de mi corazón susurra tu nombre, mi princesa hermosa 💕",
        "Contigo he encontrado el paraíso en la tierra, mi vida 🌟",
        "Eres mi sueño hecho realidad, mi amor infinito 💖",
        "Tu sonrisa es mi razón de ser, mi tesoro más preciado ✨",
        "Eres el amor de mi vida, mi alma gemela perfecta 💝",
        "Contigo quiero envejecer, mi compañera eterna 🌹",
        "Eres mi todo, mi universo completo, mi amor verdadero 💫"
    ];

    // Arrays para rastrear pétalos eliminados
    let removedPetals = [];
    let removedPetalsRight = [];

    // Mensajes de amor para la flor del lado derecho
    const loveMessagesRight = [
        "Eres mi refugio en las tormentas, mi paz en el caos 🌈",
        "Tu amor es mi fuerza, mi inspiración diaria 💪",
        "Contigo cada día es una nueva aventura llena de amor 🚀",
        "Eres mi hogar, donde mi corazón encuentra descanso 🏠",
        "Tu risa es la melodía más hermosa que conozco 🎵",
        "Eres mi cómplice, mi mejor amiga, mi gran amor 👫",
        "Contigo he aprendido que el amor verdadero existe 📖",
        "Eres mi para siempre, mi eternidad en este mundo 🌍"
    ];

    // Función para abrir el modal con mensaje de amor
    function openLoveModal(petalIndex) {
        // Verificar si el pétalo ya fue eliminado
        if (removedPetals.includes(petalIndex)) {
            return;
        }

        const modal = document.getElementById('loveModal');
        const messageElement = document.getElementById('loveMessage');
        const petalElement = document.getElementById(`petal-${petalIndex}`);
        
        // Establecer el mensaje correspondiente al pétalo
        messageElement.textContent = loveMessages[petalIndex];
        
        // Mostrar el modal
        modal.classList.add('show');
        
        // Prevenir scroll del body
        document.body.style.overflow = 'hidden';
        
        // Iniciar animación de eliminación del pétalo
        removePetal(petalIndex);
        
        console.log(`Pétalo ${petalIndex + 1} clickeado y eliminado: ${loveMessages[petalIndex]}`);
    }

    // Función para eliminar un pétalo con animación
    function removePetal(petalIndex) {
        const petalElement = document.getElementById(`petal-${petalIndex}`);
        
        if (petalElement && !removedPetals.includes(petalIndex)) {
            // Agregar clase de animación de eliminación
            petalElement.classList.add('removing');
            
            // Marcar como eliminado
            removedPetals.push(petalIndex);
            
            // Después de la animación, marcar como completamente eliminado
            setTimeout(() => {
                petalElement.classList.remove('removing');
                petalElement.classList.add('removed');
                
                // Verificar si ambas flores están completas después de cada eliminación
                checkAllPetalsCompleted();
            }, 800); // Duración de la animación petalFadeOut
        }
    }

    // Función centralizada para verificar si ambas flores están completas
    function checkAllPetalsCompleted() {
        console.log(`🔍 Verificando: Izquierda=${removedPetals.length}/8, Derecha=${removedPetalsRight.length}/8`);
        
        if (removedPetals.length === 8 && removedPetalsRight.length === 8 && !allPetalsMessageShown) {
            console.log("✅ ¡AMBAS FLORES COMPLETAS! Activando modal...");
            shouldShowAllPetalsMessage = true;
            allPetalsMessageShown = true; // Marcar como ya mostrado para evitar duplicados
        }
    }

    // Función para abrir el modal con mensaje de amor - lado derecho
    function openLoveModalRight(petalIndex) {
        // Verificar si el pétalo ya fue eliminado
        if (removedPetalsRight.includes(petalIndex)) {
            return;
        }

        const modal = document.getElementById('loveModal');
        const messageElement = document.getElementById('loveMessage');
        const petalElement = document.getElementById(`petal-right-${petalIndex}`);
        
        // Establecer el mensaje correspondiente al pétalo del lado derecho
        messageElement.textContent = loveMessagesRight[petalIndex];
        
        // Mostrar el modal
        modal.classList.add('show');
        
        // Prevenir scroll del body
        document.body.style.overflow = 'hidden';
        
        // Iniciar animación de eliminación del pétalo
        removePetalRight(petalIndex);
        
        console.log(`Pétalo derecho ${petalIndex + 1} clickeado y eliminado: ${loveMessagesRight[petalIndex]}`);
    }

    // Función para eliminar un pétalo con animación - lado derecho
    function removePetalRight(petalIndex) {
        const petalElement = document.getElementById(`petal-right-${petalIndex}`);
        
        if (petalElement && !removedPetalsRight.includes(petalIndex)) {
            // Agregar clase de animación de eliminación
            petalElement.classList.add('removing');
            
            // Marcar como eliminado
            removedPetalsRight.push(petalIndex);
            
            // Después de la animación, marcar como completamente eliminado
            setTimeout(() => {
                petalElement.classList.remove('removing');
                petalElement.classList.add('removed');
                
                // Verificar si ambas flores están completas después de cada eliminación
                checkAllPetalsCompleted();
            }, 800); // Duración de la animación petalFadeOut
        }
    }

    // Variables para controlar el flujo final
    let shouldShowFinalLoader = false;
    let shouldShowAllPetalsMessage = false;
    let allPetalsMessageShown = false;

    // Función para mostrar el loader de "Cargando última carta"
    function showFinalLoader() {
        const loader = document.getElementById('loveLoader');
        loader.classList.add('show');
        document.body.style.overflow = 'hidden';
        
        console.log("💌 Mostrando loader: Cargando última carta...");
        
        // Después de 3 segundos, ocultar loader y mostrar modal final
        setTimeout(() => {
            hideFinalLoader();
            showFinalLoveModal();
        }, 3000);
    }

    // Función para ocultar el loader
    function hideFinalLoader() {
        const loader = document.getElementById('loveLoader');
        loader.classList.remove('show');
    }

    // Función para mostrar el modal final de amor completo
    function showFinalLoveModal() {
        const modal = document.getElementById('loveModal');
        const messageElement = document.getElementById('loveMessage');
        const titleElement = document.querySelector('.love-modal-title');
        
        titleElement.textContent = "🌻💕 AMBAS FLORES COMPLETADAS 💕🌻";
        messageElement.textContent = "¡INCREÍBLE! Has descubierto todos los secretos de mi corazón en ambas flores. Cada pétalo era una promesa de amor eterno. Ahora que has recorrido este jardín completo de sentimientos, quiero que sepas que eres mi universo entero, mi alma gemela perfecta, mi para siempre. ¡Te amo infinitamente, mi princesa hermosa! 💛✨🌟💫🌻";
        
        modal.classList.add('show');
        document.body.style.overflow = 'hidden';
        
        console.log("🌻💕 ¡AMBAS FLORES COMPLETADAS! AMOR TOTAL REVELADO 💕🌻");
    }

    // Función para cerrar el modal
    function closeLoveModal() {
        const modal = document.getElementById('loveModal');
        const titleElement = document.querySelector('.love-modal-title');
        
        modal.classList.remove('show');
        
        // Verificar si debe mostrar el modal de "Terminaste los pétalos"
        if (shouldShowAllPetalsMessage) {
            shouldShowAllPetalsMessage = false;
            setTimeout(() => {
                titleElement.textContent = "💕 Todos los Pétalos Recorridos 💕";
                const messageElement = document.getElementById('loveMessage');
                messageElement.textContent = "Has descubierto todos mis mensajes de amor... ¡Eres mi mundo completo, mi princesa hermosa! 🌻💛✨";
                modal.classList.add('show');
                document.body.style.overflow = 'hidden';
                shouldShowFinalLoader = true; // Preparar para mostrar el loader después
            }, 100);
            return;
        }
        
        // Si debe mostrar el loader final después del modal semifinal
        if (shouldShowFinalLoader && removedPetals.length === 8 && removedPetalsRight.length === 8) {
            shouldShowFinalLoader = false;
            setTimeout(() => {
                showFinalLoader();
            }, 500);
            return;
        }
        
        // Restaurar título original si fue cambiado
        titleElement.textContent = "Mensaje de Amor";
        
        // Restaurar scroll del body
        document.body.style.overflow = 'auto';
    }

    // Cerrar modal al hacer click fuera del contenido
    document.getElementById('loveModal').addEventListener('click', function(e) {
        if (e.target === this) {
            closeLoveModal();
        }
    });

    // Cerrar modal con tecla Escape
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            closeLoveModal();
        }
    });
    
    console.log("🎵 Script de audio inicializado");
    console.log("📁 Ruta del archivo:", audio.src || "No definido");
    console.log("🌐 URL completa:", window.location.href);
    console.log("📂 Directorio actual:", window.location.pathname);
    
    // Verificar si estamos accediendo desde localhost
    if (!window.location.href.includes('localhost') && !window.location.href.includes('127.0.0.1')) {
        console.warn("⚠️ No estás accediendo desde localhost. Esto puede causar problemas con archivos locales.");
        console.log("💡 Asegúrate de acceder desde: http://localhost/flores_amarillas/flores.html");
    }
</script>
</html>
